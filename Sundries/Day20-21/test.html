<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>IFE ECMAScript</title>
    <style>

    </style>
</head>

<body>
    <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
    <button id="fade-btn">淡入</button>

    <script>
        let fadeObj = document.querySelector("#fade-obj");
        let fadeBtn = document.querySelector("#fade-btn");
        let fadeOutID;
        let fadeInID;
        let c = 0;
        fadeObj.style.opacity = 0;
        // function fadeOut() {
        //     fadeObj.style.opacity -= 0.01;
        //     if (fadeObj.style.opacity == 0) {
        //         fadeOutID = clearInterval(fadeOutID);
        //         fadeBtn.disabled = false;
        //     }
        // }
        function fadeIn() {
            fadeObj.style.opacity = ++c/100.0;
            console.log (fadeObj.style.opacity == 1);
            if (fadeObj.style.opacity == 1) {
                fadeInID = clearInterval(fadeInID);
                fadeBtn.disabled = false;
            }
        }
        fadeBtn.addEventListener("click", function () {
            // if (fadeBtn.innerHTML === "淡出") {
            //     fadeBtn.innerHTML = "淡入";
            //     fadeBtn.disabled = true;
            //     fadeOutID = setInterval("fadeOut()", 20);
            // } else 
            if (fadeBtn.innerHTML === "淡入"){
                fadeBtn.innerHTML = "淡出";
                fadeBtn.disabled = true;
                // fadeObj.style.opacity = 0;
                fadeInID = setInterval("fadeIn()", 20);
            }
        })
    </script>
</body>

</html>