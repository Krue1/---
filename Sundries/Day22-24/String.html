<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>IFE ECMAScript String</title>
    <style>

    </style>
</head>

<body>
    <div>
        <label>String A:
            <input id="radio-a" type="radio" checked="true" name="str-obj" value="a">
        </label>
        <textarea id="str-a"></textarea>
        <label>String B:
            <input id="radio-b" type="radio" name="str-obj" value="b">
        </label>
        <textarea id="str-b"></textarea>
        <label>Num A：<input id="num-a" type="number" value="0"></label>
        <label>Num B：<input id="num-b" type="number" value="1"></label>
    </div>
    <div>
        <button>获取当前选中输入的内容长度</button>
        <button>当前选中输入中的第3个字符</button>
        <button>把两个输入框的文字连接在一起输出（concat）</button>
        <button>输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
        <button>输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
        <button>使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
        <button>当前选中输入框的行数</button>
        <button>使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
        <button>把所选输入框中的内容全部转为大写</button>
        <button>把所选输入框中的内容全部转为小写</button>
        <button>把所选输入框中内容的半角空格全部去除</button>
        <button>把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
    </div>
    <p id="result"></p>

    <script>
        let strA = document.querySelector("#str-a");
        let strB = document.querySelector("#str-b");
        let strObj = document.getElementsByName("str-obj");
        let numA = document.querySelector("#num-a");
        let numB = document.querySelector("#num-b");
        let result = document.querySelector("#result");
        let divTwo = document.querySelectorAll("div")[1];
        let buttons = document.querySelectorAll("button");
        function getSelected() {
            for (var i = 0; i < strObj.length; i++) {
                if (strObj[i].checked) {
                    if (i === 0) {
                        return strA.value;
                    } else if (i === 1) {
                        return strB.value;
                    } else {
                        return "null";
                    }
                }
            }
            return "null";
        }
        function funcAll(e) {
            let t = e.target;
            if (t === buttons[0]) {
                result.textContent = getSelected().length;
            } else if (t === buttons[1]) {
                result.textContent = getSelected()[2];
            } else if (t === buttons[2]) {
                result.textContent = strA.value + strB.value;
            } else if (t === buttons[3]) {
                result.textContent = strA.value.indexOf(strB.value);
            } else if (t === buttons[4]) {
                result.textContent = strA.value.lastIndexOf(strB.value);
            } else if (t === buttons[5]) {
                result.textContent = getSelected().slice(Number(numA.value), Number(numB.value));
            } else if (t === buttons[6]) {
                result.textContent = Math.ceil(getSelected().length / 20) + getSelected().split("\n").length - 1;
            } else if (t === buttons[7]) {
                result.textContent = getSelected().substr(Number(numA.value), Number(numB.value));
            } else if (t === buttons[8]) {
                result.textContent = getSelected().toUpperCase();
            } else if (t === buttons[9]) {
                result.textContent = getSelected().toLowerCase();
            } else if (t === buttons[10]) {
                result.textContent = getSelected().replace(/\s/g,"");
            } else if (t === buttons[11]) {
                let strTemp = "";
                if (getSelected() === strA.value){
                    strTemp = strB.value;
                } else if (getSelected() === strB.value){
                    strTemp = strA.value;
                }
                result.textContent = getSelected().replace(/a/g,strTemp);
            }
        }
        divTwo.addEventListener("click", function (e) {
            funcAll(e);
        })
    </script>
</body>

</html>